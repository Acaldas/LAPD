<section data-ng-controller="MoviesMainController">
  <div class="logo-wrapper">          
    <a href="#!/movies"><div class="logo"></div></a>
  </div>
  <table class="main-wrapper">
    <tr>
      <td class="left-wrapper">
        <div class="side-menu">
          <div class="items">
            <h4 class="menu-item tooltips" onclick="$('#search-wrapper').show()">
                <span class="glyphicon glyphicon-search" style="
                font-size: 21px;
            "></span>
            <span class="tooltip">
              <p>Search</p>
            </span>
            </h4>
            <h4 class="menu-item tooltips">
                <span class="glyphicon glyphicon-ok" style="
                font-size: 21px;
            "></span>
            <span class="tooltip">
              <p>Watched</p>
            </span>
            </h4>
            <h4 class="menu-item tooltips">
                <span class="glyphicon glyphicon-eye-open" style="
                font-size: 21px;
            "></span>
            <span class="tooltip">
              <p>Watchlist</p>
            </span>
            </h4>
          </div>
        </div>
      </td>
      <td class="middle-wrapper">
        <div class="movies-wrapper">
          <div class="row">
            <div class="col-md-6 movie-group-wrapper">
              <div class="movie-group">
                <h3>Best rated</h3>

               <div ng-repeat="movie in bestRatedMovies" class="movie" ng-click="setQuickMovie(movie)">
                  <!--<h4>{{movie.title}}</h4>-->
                  <div class="poster" style="background-image: url({{movie.poster}});" alt="{{movie.title}}"></div>
                </div>    
              </div>
            </div>

            <div class="row">
            <div class="col-md-6 movie-group-wrapper">
              <div class="movie-group">
                <h3>Most viewed</h3>

                <div class="movie ng-scope" ng-click="setQuickMovie(movie)">
                  <!--<h4>{{movie.title}}</h4>-->
                  <div class="poster" style="background-image: url('http://content6.flixster.com/movie/11/17/64/11176484_det.jpg');" alt="The Hunger Games: Catching Fire"></div>
                </div><!-- end ngRepeat: movie in movies -->

                <div class="movie ng-scope" ng-click="setQuickMovie(movie)">
                  <!--<h4>{{movie.title}}</h4>-->
                  <div class="poster" style="background-image: url('http://content6.flixster.com/movie/11/17/40/11174000_det.jpg');" alt="Inside Llewyn Davis"></div>
                </div>

                <div class="movie ng-scope" ng-click="setQuickMovie(movie)">
                  <!--<h4>{{movie.title}}</h4>-->
                  <div class="poster" style="background-image: url('http://content6.flixster.com/movie/11/17/46/11174676_det.jpg');" alt="Out of the Furnace"></div>
                </div>
              </div>
            </div>  
            
            <div class="row">
            <div class="col-md-6 movie-group-wrapper">
              <div class="movie-group">
                <h3>Most rated</h3>
                 <div ng-repeat="movie in mostRatedMovies" class="movie" ng-click="setQuickMovie(movie)">
                  <!--<h4>{{movie.title}}</h4>-->
                  <div class="poster" style="background-image: url({{movie.poster}});" alt="{{movie.title}}"></div>
                </div>               
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 movie-group-wrapper">            
              <div ng-repeat="genre in bestGenreMovies.genre" class="movie-group">
                <h3>{{genre.name}}</h3>
                 <div ng-repeat="movie in genre.movie" class="movie" ng-click="setQuickMovie(movie)">
                  <div class="poster" style="background-image: url({{movie.poster}});" alt="{{movie.title}}"></div>
                </div>               
              </div>
            </div>
          </div>
        </div>
      </td>
      <td class="right-wrapper">
        <div class="right-side-bar">
          <div class="right-side-bar-content">
            <h5>Our Suggestions</h5>
            <table class="suggested-movies">
              <tr>
                <td>
                  <div class="movie ng-scope" ng-click="setQuickMovie(movie)">
                    <div class="poster" style="background-image: url('http://content6.flixster.com/movie/11/17/25/11172532_det.jpg');" alt="Saving Mr. Banks"></div>
                    <h6 class="movie-title">Saving Mr. Banks</h6>
                  </div>
                </td>
                <td>
                  <div class="movie ng-scope" ng-click="setQuickMovie(movie)">
                    <div class="poster" style="background-image: url('http://content6.flixster.com/movie/11/17/69/11176940_det.jpg');" alt="The Hobbit: The Desolation Of Smaug"></div>
                    <h6 class="movie-title">The Hobbit: The Desolation Of Smaug</h6>
                  </div>
                </td>
              </tr>
            </table>

            <h5>Featured Trailer</h5>
            <iframe class="featured-trailer" width="270" height="140" src="http://v.traileraddict.com/90315" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true" scrolling="no"></iframe>
            <h6 class="movie-title">The Normal Heart (2014)</h6>
          </div>
        </div>
      </td>
    </tr>
  </table>
  <div id="search-wrapper" style="display: none">
    <div class="search-components">
      <div class="search-input-wrapper">
        <div class="close-button-wrapper">
          <div class="close-button" onclick="$('#search-wrapper').hide()"></div>
        </div>
          <select id="filterSearch" ng-model="selectedFilterType" ng-options="filterType as filterType.name for filterType in filterTypes"></select>
        <input id="searchText" type="search" class="search" ng-model="searchText" name="Movie" placeholder="What is it?" />        
      </div>
      <div class="search-results">
        <div class="movies">
          <div ng-repeat="movie in movies" class="movie" ng-click="setMovie(movie)">
            <!--<h4>{{movie.title}}</h4>-->
            <div class="poster" style="background-image: url({{movie.poster}});" alt="{{movie.title}}"></div>
          </div>
          <div class="error">
            <p>{{error}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="quick-movie-description" ng-show="showQuickMovie">
    <div class="close-button-wrapper">
      <div class="close-button-bootstrap" ng-click="hideQuickMovie()">
        <span class="glyphicon glyphicon-remove-sign"></span>
      </div>
    </div>
    <h3 ng-click="setMovie(quickMovie)">{{quickMovie.title}}</h3>  
    <div class="movie" ng-click="setMovie(quickMovie)">
      <!--<h4>{{movie.title}}</h4>-->
      <div class="poster big" style="background-image: url({{quickMovie.poster}});" alt="{{quickMovie.title}}" ng-click="setMovie(quickMovie)"></div>
    </div>
    <p>
      {{quickMovie.synopsis}}
    </p>
    <h4 ng-show="quick_similar_movies">Similar movies</h4>
      <table class="similar-movies">
      <tr>
        <td ng-repeat="similar_movie in quick_similar_movies" class="movie" ng-click="setMovie(similar_movie)">
            <!--<h4>{{movie.title}}</h4>-->
            <div class="poster" style="background-image: url({{similar_movie.poster}});" alt="{{similar_movie.title}}"></div>
            <h6 class="movie-title">{{similar_movie.title}}</h6>
        </td>
        </tr>
      </table>
  </div>
</section